<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Website Encryption</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #f8fafc;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background: rgba(30, 41, 59, 0.95);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
      width: 420px;
      text-align: center;
    }
    h2 {
      margin-bottom: 20px;
      color: #38bdf8;
    }
    input[type="file"], select, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 8px;
      border: none;
      font-size: 14px;
    }
    input[type="file"] {
      background: #1e293b;
      color: #f8fafc;
      cursor: pointer;
    }
    select {
      background: #1e293b;
      color: #f8fafc;
      cursor: pointer;
    }
    button {
      background: #38bdf8;
      color: #0f172a;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #0ea5e9;
    }
    .result {
      margin-top: 15px;
      padding: 15px;
      background: #1e293b;
      border-radius: 8px;
      font-size: 14px;
      text-align: center;
      display: none;
    }
    .success {
      color: #4ade80;
      font-weight: bold;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>File Encryption</h2>
    <!-- Upload File -->
    <input type="file" id="fileInput">

    <!-- Pilihan Encryption -->
    <select id="encryptionType">
      <option value="enc">enc &lt;LEVEL&gt; - STANDARD</option>
      <option value="enceval">enceval &lt;LEVEL&gt; - EVALUATE</option>
      <option value="encchina">encchina - MANDARIN STYLE</option>
      <option value="encarab">encarab - ARABIC STYLE</option>
      <option value="encjapan">encjapan - JAPANESE STYLE</option>
      <option value="encinvis">encinvis - INVISIBLE MODE</option>
      <option value="encjapxab">encjapxab - JAPAN X ARAB</option>
      <option value="encx">encx - BASE 64</option>
      <option value="encnebula">encnebula - HARD DESIGN</option>
      <option value="encnova">encnova - NOVA STYLE</option>
      <option value="encsiu">encsiu - SIU + CALCRICK</option>
      <option value="customenc">customenc &lt;NAME&gt; - CUSTOM</option>
      <option value="encmax">encmax &lt;INTENSITY&gt;</option>
      <option value="encstealth">encstealth - STEALTH MODE</option>
      <option value="encstrong">encstrong - POWER FORTRESS</option>
      <option value="encultra">encultra - ULTRA PROTECTION</option>
      <option value="encbig">encbig &lt;MB&gt; - MEGABYTE</option>
      <option value="encnew">encnew - ADVANCED LAYER</option>
      <option value="encquantum">encquantum - QUANTUM</option>
      <option value="enclocked">enclocked - LOCKED HARD</option>
    </select>

    <!-- Tombol Encryption -->
    <button onclick="encryptFile()">ENCRYPTION FILE</button>

    <!-- Hasil -->
    <div id="result" class="result">
      <div class="success">ENCRYPTION SUKSES ✅</div>
      <button id="downloadBtn" onclick="downloadEncrypted()">DOWNLOAD</button>
    </div>
  </div>

  <script>
    let encryptedContent = "";
    let originalFilename = "";

    // Fungsi bantu
    function simpleXOR(str, key = 42) {
      return str.split("").map(c => 
        String.fromCharCode(c.charCodeAt(0) ^ key)
      ).join("");
    }

    function rot13(str) {
      return str.replace(/[a-zA-Z]/g, function(c){
        return String.fromCharCode(
          (c <= "Z" ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26
        );
      });
    }

    function invisibleEncode(str) {
      return str.split("").map(c => 
        (c.charCodeAt(0) % 2 === 0 ? "​" : "‌") // zero-width chars
      ).join("");
    }

    // Download manual
    function downloadEncrypted() {
      if (!encryptedContent || !originalFilename) return;

      const blob = new Blob([encryptedContent], { type: "application/octet-stream" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);

      const parts = originalFilename.split(".");
      if (parts.length > 1) {
        const ext = parts.pop();
        const nameOnly = parts.join(".");
        link.download = nameOnly + "_encryption." + ext;
      } else {
        link.download = originalFilename + "_encryption";
      }

      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // Fungsi utama encrypt
    function encryptFile() {
      const fileInput = document.getElementById("fileInput").files[0];
      const encryptionType = document.getElementById("encryptionType").value;
      const resultDiv = document.getElementById("result");

      if (!fileInput) {
        alert("Pilih file terlebih dahulu!");
        return;
      }

      originalFilename = fileInput.name;
      const reader = new FileReader();

      reader.onload = function(e) {
        let content = e.target.result;
        let encrypted = "";

        switch(encryptionType) {
          case "enc": encrypted = btoa(content); break;
          case "enceval": encrypted = rot13(content); break;
          case "encchina": encrypted = btoa(unescape(encodeURIComponent(content + " 中"))); break;
          case "encarab": encrypted = btoa(content + " عرب"); break;
          case "encjapan": encrypted = btoa(content + " 日本"); break;
          case "encinvis": encrypted = invisibleEncode(content); break;
          case "encjapxab": encrypted = btoa(content + "日本عرب"); break;
          case "encx": encrypted = btoa(content); break;
          case "encnebula": encrypted = btoa(content.split("").reverse().join("")); break;
          case "encnova": encrypted = simpleXOR(content, 99); break;
          case "encsiu": encrypted = btoa(content + " SIUUU ⚡"); break;
          case "customenc": encrypted = btoa("CUSTOM::" + content); break;
          case "encmax": encrypted = btoa(content.repeat(2)); break;
          case "encstealth": encrypted = simpleXOR(content, 120); break;
          case "encstrong": encrypted = btoa(content.split("").reverse().join("") + "!STRONG"); break;
          case "encultra": encrypted = btoa(rot13(content) + "#ULTRA"); break;
          case "encbig": encrypted = btoa(content + "###BIGDATA"); break;
          case "encnew": encrypted = btoa(simpleXOR(content, 77)); break;
          case "encquantum": encrypted = btoa(simpleXOR(content, 42)); break;
          case "enclocked": encrypted = btoa("LOCKED::" + content); break;
          default: encrypted = btoa(content);
        }

        encryptedContent = encrypted;
        resultDiv.style.display = "block"; // tampilkan pesan sukses
      };

      reader.readAsBinaryString(fileInput);
    }
  </script>
</body>
</html>
